<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF8">
  <title>Movie Graph</title>

  <script type="text/javascript" src="js/vis-network.min.js"></script>

  <script src="js/movies_1000.js"></script>
  <script src="js/talent_1000.js"></script>
  <script src="js/collections.js"></script>
  <script src="js/genres.js"></script>

  <style type="text/css">
    #graph {
      width: 800px;
      height: 800px;
      border: 1px solid lightgray;
    }
  </style>
  
</head>
<body>

<!-- <form onsubmit="searchFn(this)"> -->
  Search: <input type="text" id="search"><br>
  <input type="submit" value="Submit" onclick="searchFn(this)">
<!-- </form> -->



</body>
<script>
  var nodes, edges;
  function searchFn() {
    var searchValue = document.getElementById("search").value.toLowerCase();
    var subset = talent.filter(i => i['name'].toLowerCase().includes(searchValue))
    if (subset.length < 1) {
      console.error('no match');
    }
    console.log(subset[0]);
    addRootTalent(subset[0])
  }

  function addRootTalent(node) {
    nodes = [];
    edges = [];
    nodes.push(node);
    node.movies.forEach((movie) => {
      addMovie(movie)
    });
  }
</script>
</html>