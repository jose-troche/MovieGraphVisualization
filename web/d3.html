<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">

<title>SVG</title>

<script src='https://d3js.org/d3.v3.min.js' type='text/javascript'></script>
  <script src="js/nodes.js"></script>
  <script src="js/edges.js"></script>

<style>

.link {
  stroke: #777;
  stroke-opacity: 0.2;
  stroke-width: 1.5px;
}

.node {
    fill: #ccc;
    stroke: #fff;
    stroke-width: 2px;
}

</style>
</head>
<body>

    <script>

var width = 960,
    height = 500

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

var force = d3.layout.force()
    .gravity(.05)
    .charge(-240)
    .linkDistance(60)
    .size([width, height]);

// var nodes = [
// {"id": 1, "label": "Node1", "group": 1},
// {"id": 2, "label": "Node2", "group": 0},
// {"id": 3, "label": "Node3", "group": 1},
// {"id": 4, "label": "Node4", "group": 0},
// {"id": 5, "label": "Node5", "group": 1},
// {"id": 6, "label": "Node6", "group": 0},
// {"id": 7, "label": "Node7", "group": 1},
// {"id": 8, "label": "Node8", "group": 0},
// {"id": 9, "label": "Node9", "group": 1}
// ];

// var edges = [
// {"source": 1, "target": 4},
// {"source": 3, "target": 4},
// {"source": 1, "target": 5},
// {"source": 2, "target": 8},
// {"source": 5, "target": 3}
// ];

force
    .nodes(nodes)
    .links(edges)
    .start();

var link = svg.selectAll(".link")
    .data(edges)
    .enter().append("line")
    .attr("class", "link");

var node = svg.selectAll(".node")
    .data(nodes)
    .enter().append("circle")
    .attr("cx", function(d) { return d.x; })
    .attr("cy", function(d) { return d.y; })
    .attr("r", 10)
    .attr("class", "node");
    //.call(force.drag);

// node.append("image")
//     .attr("class", "circle")
//     .attr("xlink:href", "mbostock.jpg")
//     .attr("x", "-10px")
//     .attr("y", "-10px")
//     .attr("width", "20px")
//     .attr("height", "20px");

node.append("title")
    .text(function(d) { return d.label; });

force.on("tick", function() {
  link.attr("x1", function(d) { return d.source.x; })
      .attr("y1", function(d) { return d.source.y; })
      .attr("x2", function(d) { return d.target.x; })
      .attr("y2", function(d) { return d.target.y; });

  node.attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });
});

</script>
</body>

</html>